---
import CopyIcon  from "../components/icons/Copy.astro";
---
<button
  id="button"
  class="bg-white/5 
  border dark:border-white/10 border-gray-400 rounded-full
  py-1 px-2 md:py-2 md:px-4
  text-xs md:text-base
  text-black/70 dark:text-white/50
  transition
  hover:scale-110 hover:bg-white/10
  group/copy"
>
  <CopyIcon />
  <span
    id="tooltip"
    class="absolute top-0 left-[50%] -translate-x-[50%] -translate-y-12 px-4 py-2 rounded-xl bg-white text-black w-[125px] transition-all duration-200 ease-out opacity-0 group-hover/copy:opacity-100 text-center"
    >Copiar email</span
  >
</button>

<script>
  const email = "penalversanchezalejandro@gmail.com"
  const button = document.getElementById("button");

  button?.addEventListener("click", () => {
    if (email) {
      navigator?.clipboard.writeText(email);

      let tooltip = document.getElementById("tooltip") as HTMLElement;
      tooltip.innerHTML = "Copiado";
    }
  });

  button?.addEventListener("mouseleave", () => {
    let tooltip = document.getElementById("tooltip") as HTMLElement;
    tooltip.innerHTML = "Copiar email";
  });
</script>
